# ğŸš€ å®Ÿéš›ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼è©³ç´°ã‚¬ã‚¤ãƒ‰

**ä½œæˆæ—¥æ™‚:** 2025å¹´7æœˆ9æ—¥ 16:05:30 JST  
**å¯¾è±¡:** ç”ŸJDBCã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºåˆå¿ƒè€…  
**ç›®æ¨™:** ã©ã“ã«ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ã‹ã‚’å®Œå…¨ç†è§£ã™ã‚‹

---

## ğŸ¯ **é–‹ç™ºã®æµã‚Œï¼ˆå®Ÿéš›ã®é †åºï¼‰**

### **å®Ÿéš›ã«ã‚„ã‚‹ã“ã¨:**
1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®š** â† ã¾ãšã“ã“ã‹ã‚‰ï¼
2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ** â† SQLãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
3. **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹ä½œæˆ** â† Plain Javaã‚¯ãƒ©ã‚¹
4. **ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤** â† ç”ŸJDBCå®Ÿè£…
5. **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤** â† ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹
6. **ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤** â† REST API
7. **å‹•ä½œç¢ºèªãƒ»ãƒ†ã‚¹ãƒˆ** â† æœ€å¾Œã«ç¢ºèª

---

## ğŸ“ **Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®š (15åˆ†)**

### **1.1 build.gradleè¨­å®š**
**å ´æ‰€:** `build.gradle` (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ)

```gradle
plugins {
	id 'java'
	id 'org.springframework.boot' version '3.5.3'
	id 'io.spring.dependency-management' version '1.1.7'
}

group = 'com.example'
version = '0.0.1-SNAPSHOT'

java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(17)
	}
}

repositories {
	mavenCentral()
}

dependencies {
	// Spring Boot Webï¼ˆREST APIç”¨ï¼‰
	implementation 'org.springframework.boot:spring-boot-starter-web'
	
	// Spring Boot JDBCï¼ˆç”ŸJDBCç”¨ï¼‰
	implementation 'org.springframework.boot:spring-boot-starter-jdbc'
	
	// H2ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆå­¦ç¿’ç”¨ï¼‰
	runtimeOnly 'com.h2database:h2'
	
	// é–‹ç™ºãƒ„ãƒ¼ãƒ«ï¼ˆè‡ªå‹•å†èµ·å‹•ï¼‰
	developmentOnly 'org.springframework.boot:spring-boot-devtools'
	
	// Swagger UIï¼ˆAPIä»•æ§˜æ›¸ï¼‰
	implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0'
	
	// ãƒ†ã‚¹ãƒˆ
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
	testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

tasks.named('test') {
	useJUnitPlatform()
}
```

### **1.2 application.propertiesè¨­å®š**
**å ´æ‰€:** `src/main/resources/application.properties`

```properties
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å
spring.application.name=simple-spring-rest-api

# H2ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2ã‚³ãƒ³ã‚½ãƒ¼ãƒ«æœ‰åŠ¹åŒ–ï¼ˆé–‹ç™ºç”¨ï¼‰
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ã‚µãƒ¼ãƒãƒ¼ãƒãƒ¼ãƒˆ
server.port=8080

# JDBCãƒ­ã‚°è¡¨ç¤ºï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
logging.level.org.springframework.jdbc=DEBUG
```

### **1.3 ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹ç¢ºèª**
**å ´æ‰€:** `src/main/java/com/example/simple_spring_rest_api/SimpleSpringRestApiApplication.java`

```java
package com.example.simple_spring_rest_api;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class SimpleSpringRestApiApplication {
	public static void main(String[] args) {
		SpringApplication.run(SimpleSpringRestApiApplication.class, args);
	}
}
```

---

## ğŸ—„ï¸ **Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (30åˆ†)**

### **2.1 ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆSQLãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**
**å ´æ‰€:** `src/main/resources/schema.sql`

```sql
-- articlesãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
CREATE TABLE IF NOT EXISTS articles (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

**é‡è¦ãƒã‚¤ãƒ³ãƒˆ:**
- `AUTO_INCREMENT`: IDè‡ªå‹•æ¡ç•ª
- `NOT NULL`: å¿…é ˆé …ç›®æŒ‡å®š
- `TIMESTAMP`: æ—¥æ™‚è‡ªå‹•è¨­å®š

### **2.2 åˆæœŸãƒ‡ãƒ¼ã‚¿ä½œæˆ**
**å ´æ‰€:** `src/main/resources/data.sql`

```sql
-- åˆæœŸãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥
INSERT INTO articles (title, content) VALUES 
('ã¯ã˜ã‚ã¦ã®è¨˜äº‹', 'ã“ã‚Œã¯æœ€åˆã®è¨˜äº‹ã§ã™ã€‚'),
('Spring Bootå­¦ç¿’', 'Spring Bootã®åŸºæœ¬ã‚’å­¦ã‚“ã§ã„ã¾ã™ã€‚'),
('ç”ŸJDBCå®Ÿè£…', 'JPAã‚’ä½¿ã‚ãšã«ç”ŸJDBCã§å®Ÿè£…ã—ã¦ã¿ã¾ã—ãŸã€‚');
```

---

## ğŸ—ï¸ **Phase 3: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹ä½œæˆ (30åˆ†)**

### **3.1 Articleã‚¯ãƒ©ã‚¹ä½œæˆ**
**å ´æ‰€:** `src/main/java/com/example/simple_spring_rest_api/domain/Article.java`

**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ :**
```
src/main/java/com/example/simple_spring_rest_api/
â”œâ”€â”€ domain/           â† ã“ã“ã«ä½œã‚‹ï¼
â”‚   â””â”€â”€ Article.java  â† æ–°è¦ä½œæˆ
â”œâ”€â”€ repository/       â† æ¬¡ã«ä½œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”œâ”€â”€ service/          â† ãã®æ¬¡ã«ä½œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â””â”€â”€ controller/       â† æœ€å¾Œã«ä½œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
```

```java
package com.example.simple_spring_rest_api.domain;

import java.time.LocalDateTime;

/**
 * è¨˜äº‹ã‚’è¡¨ã™ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
 * Plain Javaã§å®Ÿè£…ï¼ˆLombokãªã—ï¼‰
 */
public class Article {
    
    private Long id;
    private String title;
    private String content;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
    
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
    public Article() {
    }
    
    // æ–°è¦ä½œæˆç”¨ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
    public Article(String title, String content) {
        this.title = title;
        this.content = content;
    }
    
    // å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
    public Article(Long id, String title, String content, 
                   LocalDateTime createdAt, LocalDateTime updatedAt) {
        this.id = id;
        this.title = title;
        this.content = content;
        this.createdAt = createdAt;
        this.updatedAt = updatedAt;
    }
    
    // ã‚²ãƒƒã‚¿ãƒ¼ï¼ˆå…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
    public Long getId() { return id; }
    public String getTitle() { return title; }
    public String getContent() { return content; }
    public LocalDateTime getCreatedAt() { return createdAt; }
    public LocalDateTime getUpdatedAt() { return updatedAt; }
    
    // ã‚»ãƒƒã‚¿ãƒ¼ï¼ˆå…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
    public void setId(Long id) { this.id = id; }
    public void setTitle(String title) { this.title = title; }
    public void setContent(String content) { this.content = content; }
    public void setCreatedAt(LocalDateTime createdAt) { this.createdAt = createdAt; }
    public void setUpdatedAt(LocalDateTime updatedAt) { this.updatedAt = updatedAt; }
    
    // toStringï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
    @Override
    public String toString() {
        return "Article{" +
                "id=" + id +
                ", title='" + title + '\'' +
                ", content='" + content + '\'' +
                ", createdAt=" + createdAt +
                ", updatedAt=" + updatedAt +
                '}';
    }
    
    // equals & hashCode
    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Article article = (Article) o;
        return id != null ? id.equals(article.id) : article.id == null;
    }
    
    @Override
    public int hashCode() {
        return id != null ? id.hashCode() : 0;
    }
}
```

**ä½œæˆã®ãƒã‚¤ãƒ³ãƒˆ:**
1. **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã¨åŒã˜æ§‹é€ 
2. **ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿**: 3ç¨®é¡ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€æ–°è¦ä½œæˆç”¨ã€å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
3. **ã‚²ãƒƒã‚¿ãƒ¼ãƒ»ã‚»ãƒƒã‚¿ãƒ¼**: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ‰‹å‹•å®Ÿè£…
4. **toString**: ãƒ‡ãƒãƒƒã‚°æ™‚ã«ä¾¿åˆ©
5. **equals & hashCode**: IDã§ã®åŒä¸€æ€§åˆ¤å®š

---

## ğŸ—‚ï¸ **Phase 4: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤å®Ÿè£… (60åˆ†)**

### **4.1 ArticleRepositoryã‚¯ãƒ©ã‚¹ä½œæˆ**
**å ´æ‰€:** `src/main/java/com/example/simple_spring_rest_api/repository/ArticleRepository.java`

```java
package com.example.simple_spring_rest_api.repository;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.sql.Timestamp;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;
import java.util.Optional;

import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;

import com.example.simple_spring_rest_api.domain.Article;

/**
 * è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ç”¨Repository
 * ç”ŸJDBCã§å®Ÿè£…ï¼ˆSpring Data JPAã¯ä½¿ç”¨ã—ãªã„ï¼‰
 */
@Repository
public class ArticleRepository {
    
    private final DataSource dataSource;
    
    @Autowired
    public ArticleRepository(DataSource dataSource) {
        this.dataSource = dataSource;
    }
    
    /**
     * å…¨è¨˜äº‹ã‚’å–å¾—
     */
    public List<Article> findAll() {
        String sql = "SELECT id, title, content, created_at, updated_at FROM articles ORDER BY id";
        List<Article> articles = new ArrayList<>();
        
        try (Connection connection = dataSource.getConnection();
             PreparedStatement statement = connection.prepareStatement(sql);
             ResultSet resultSet = statement.executeQuery()) {
            
            while (resultSet.next()) {
                Article article = mapResultSetToArticle(resultSet);
                articles.add(article);
            }
            
        } catch (SQLException e) {
            throw new RuntimeException("å…¨è¨˜äº‹ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ", e);
        }
        
        return articles;
    }
    
    /**
     * IDã«ã‚ˆã‚‹è¨˜äº‹ã®å–å¾—
     */
    public Optional<Article> findById(Long id) {
        String sql = "SELECT id, title, content, created_at, updated_at FROM articles WHERE id = ?";
        
        try (Connection connection = dataSource.getConnection();
             PreparedStatement statement = connection.prepareStatement(sql)) {
            
            statement.setLong(1, id);
            
            try (ResultSet resultSet = statement.executeQuery()) {
                if (resultSet.next()) {
                    Article article = mapResultSetToArticle(resultSet);
                    return Optional.of(article);
                }
            }
            
        } catch (SQLException e) {
            throw new RuntimeException("è¨˜äº‹ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ID: " + id, e);
        }
        
        return Optional.empty();
    }
    
    /**
     * è¨˜äº‹ã®ä¿å­˜ï¼ˆæ–°è¦ä½œæˆï¼‰
     */
    public Article save(Article article) {
        String sql = "INSERT INTO articles (title, content, created_at, updated_at) VALUES (?, ?, ?, ?)";
        
        try (Connection connection = dataSource.getConnection();
             PreparedStatement statement = connection.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {
            
            LocalDateTime now = LocalDateTime.now();
            
            statement.setString(1, article.getTitle());
            statement.setString(2, article.getContent());
            statement.setTimestamp(3, Timestamp.valueOf(now));
            statement.setTimestamp(4, Timestamp.valueOf(now));
            
            int affectedRows = statement.executeUpdate();
            
            if (affectedRows == 0) {
                throw new RuntimeException("è¨˜äº‹ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ");
            }
            
            // è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸIDã‚’å–å¾—
            try (ResultSet generatedKeys = statement.getGeneratedKeys()) {
                if (generatedKeys.next()) {
                    article.setId(generatedKeys.getLong(1));
                    article.setCreatedAt(now);
                    article.setUpdatedAt(now);
                } else {
                    throw new RuntimeException("è¨˜äº‹ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚IDãŒç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ");
                }
            }
            
        } catch (SQLException e) {
            throw new RuntimeException("è¨˜äº‹ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ", e);
        }
        
        return article;
    }
    
    /**
     * è¨˜äº‹ã®æ›´æ–°
     */
    public Article update(Long id, Article article) {
        String sql = "UPDATE articles SET title = ?, content = ?, updated_at = ? WHERE id = ?";
        
        try (Connection connection = dataSource.getConnection();
             PreparedStatement statement = connection.prepareStatement(sql)) {
            
            LocalDateTime now = LocalDateTime.now();
            
            statement.setString(1, article.getTitle());
            statement.setString(2, article.getContent());
            statement.setTimestamp(3, Timestamp.valueOf(now));
            statement.setLong(4, id);
            
            int affectedRows = statement.executeUpdate();
            
            if (affectedRows == 0) {
                throw new RuntimeException("è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ID: " + id);
            }
            
            return findById(id).orElseThrow(() -> 
                new RuntimeException("æ›´æ–°å¾Œã®è¨˜äº‹å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ID: " + id));
            
        } catch (SQLException e) {
            throw new RuntimeException("è¨˜äº‹ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ID: " + id, e);
        }
    }
    
    /**
     * è¨˜äº‹ã®å‰Šé™¤
     */
    public void deleteById(Long id) {
        String sql = "DELETE FROM articles WHERE id = ?";
        
        try (Connection connection = dataSource.getConnection();
             PreparedStatement statement = connection.prepareStatement(sql)) {
            
            statement.setLong(1, id);
            
            int affectedRows = statement.executeUpdate();
            
            if (affectedRows == 0) {
                throw new RuntimeException("è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ID: " + id);
            }
            
        } catch (SQLException e) {
            throw new RuntimeException("è¨˜äº‹ã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ID: " + id, e);
        }
    }
    
    /**
     * ResultSetã‹ã‚‰Articleã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãƒãƒƒãƒ”ãƒ³ã‚°
     */
    private Article mapResultSetToArticle(ResultSet resultSet) throws SQLException {
        Article article = new Article();
        article.setId(resultSet.getLong("id"));
        article.setTitle(resultSet.getString("title"));
        article.setContent(resultSet.getString("content"));
        
        Timestamp createdAt = resultSet.getTimestamp("created_at");
        if (createdAt != null) {
            article.setCreatedAt(createdAt.toLocalDateTime());
        }
        
        Timestamp updatedAt = resultSet.getTimestamp("updated_at");
        if (updatedAt != null) {
            article.setUpdatedAt(updatedAt.toLocalDateTime());
        }
        
        return article;
    }
}
```

**ç”ŸJDBCå®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ:**
1. **@Repository**: Springã®ãƒªãƒã‚¸ãƒˆãƒªã¨ã—ã¦èªè­˜
2. **DataSource**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šç®¡ç†
3. **try-with-resources**: ãƒªã‚½ãƒ¼ã‚¹ã®è‡ªå‹•ã‚¯ãƒ­ãƒ¼ã‚º
4. **PreparedStatement**: SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
5. **mapResultSetToArticle**: çµæœã‚»ãƒƒãƒˆã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›

---

## ğŸ”§ **Phase 5: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤å®Ÿè£… (30åˆ†)**

### **5.1 ArticleServiceã‚¯ãƒ©ã‚¹ä½œæˆ**
**å ´æ‰€:** `src/main/java/com/example/simple_spring_rest_api/service/ArticleService.java`

```java
package com.example.simple_spring_rest_api.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.example.simple_spring_rest_api.domain.Article;
import com.example.simple_spring_rest_api.repository.ArticleRepository;

/**
 * è¨˜äº‹ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å‡¦ç†ã‚’æ‹…å½“ã™ã‚‹Serviceã‚¯ãƒ©ã‚¹
 */
@Service
public class ArticleService {

    private final ArticleRepository articleRepository;

    @Autowired
    public ArticleService(ArticleRepository articleRepository) {
        this.articleRepository = articleRepository;
    }

    /**
     * å…¨è¨˜äº‹ã‚’å–å¾—
     */
    public List<Article> findAllArticles() {
        return articleRepository.findAll();
    }

    /**
     * IDã«ã‚ˆã‚‹è¨˜äº‹ã®å–å¾—
     */
    public Article findArticleById(Long id) {
        return articleRepository.findById(id)
                .orElseThrow(() -> new RuntimeException("è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ID: " + id));
    }

    /**
     * è¨˜äº‹ã®ä½œæˆ
     */
    public Article createArticle(Article article) {
        // å…¥åŠ›å€¤ã®æ¤œè¨¼
        validateArticle(article);
        
        return articleRepository.save(article);
    }

    /**
     * è¨˜äº‹ã®æ›´æ–°
     */
    public Article updateArticle(Long id, Article articleDetails) {
        // å…¥åŠ›å€¤ã®æ¤œè¨¼
        validateArticle(articleDetails);
        
        // è¨˜äº‹ã®å­˜åœ¨ç¢ºèª
        findArticleById(id);
        
        return articleRepository.update(id, articleDetails);
    }

    /**
     * è¨˜äº‹ã®å‰Šé™¤
     */
    public void deleteArticle(Long id) {
        // è¨˜äº‹ã®å­˜åœ¨ç¢ºèª
        findArticleById(id);
        
        articleRepository.deleteById(id);
    }
    
    /**
     * è¨˜äº‹ã®å…¥åŠ›å€¤æ¤œè¨¼
     */
    private void validateArticle(Article article) {
        if (article.getTitle() == null || article.getTitle().trim().isEmpty()) {
            throw new IllegalArgumentException("ã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…é ˆã§ã™");
        }
        if (article.getContent() == null || article.getContent().trim().isEmpty()) {
            throw new IllegalArgumentException("å†…å®¹ã¯å¿…é ˆã§ã™");
        }
    }
}
```

**ã‚µãƒ¼ãƒ“ã‚¹å±¤ã®ãƒã‚¤ãƒ³ãƒˆ:**
1. **@Service**: Springã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦èªè­˜
2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å…¥åŠ›å€¤æ¤œè¨¼
3. **ä¾‹å¤–å‡¦ç†**: é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
4. **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯

---

## ğŸŒ **Phase 6: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤å®Ÿè£… (45åˆ†)**

### **6.1 ArticleControllerã‚¯ãƒ©ã‚¹ä½œæˆ**
**å ´æ‰€:** `src/main/java/com/example/simple_spring_rest_api/controller/ArticleController.java`

```java
package com.example.simple_spring_rest_api.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.example.simple_spring_rest_api.domain.Article;
import com.example.simple_spring_rest_api.service.ArticleService;

/**
 * è¨˜äº‹ã®REST APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æä¾›ã™ã‚‹Controllerã‚¯ãƒ©ã‚¹
 */
@RestController
@RequestMapping("/api/articles")
public class ArticleController {

    private final ArticleService articleService;

    @Autowired
    public ArticleController(ArticleService articleService) {
        this.articleService = articleService;
    }

    /**
     * å…¨è¨˜äº‹ã‚’å–å¾—
     * GET /api/articles
     */
    @GetMapping
    public ResponseEntity<List<Article>> getAllArticles() {
        try {
            List<Article> articles = articleService.findAllArticles();
            return ResponseEntity.ok(articles);
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();
        }
    }

    /**
     * IDã«ã‚ˆã‚‹è¨˜äº‹ã®å–å¾—
     * GET /api/articles/{id}
     */
    @GetMapping("/{id}")
    public ResponseEntity<Article> getArticleById(@PathVariable Long id) {
        try {
            Article article = articleService.findArticleById(id);
            return ResponseEntity.ok(article);
        } catch (RuntimeException e) {
            return ResponseEntity.notFound().build();
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();
        }
    }

    /**
     * æ–°ã—ã„è¨˜äº‹ã‚’ä½œæˆ
     * POST /api/articles
     */
    @PostMapping
    public ResponseEntity<Article> createArticle(@RequestBody Article article) {
        try {
            Article createdArticle = articleService.createArticle(article);
            return ResponseEntity.status(HttpStatus.CREATED).body(createdArticle);
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().build();
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();
        }
    }

    /**
     * è¨˜äº‹ã‚’æ›´æ–°
     * PUT /api/articles/{id}
     */
    @PutMapping("/{id}")
    public ResponseEntity<Article> updateArticle(@PathVariable Long id, @RequestBody Article articleDetails) {
        try {
            Article updatedArticle = articleService.updateArticle(id, articleDetails);
            return ResponseEntity.ok(updatedArticle);
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().build();
        } catch (RuntimeException e) {
            return ResponseEntity.notFound().build();
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();
        }
    }

    /**
     * è¨˜äº‹ã‚’å‰Šé™¤
     * DELETE /api/articles/{id}
     */
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteArticle(@PathVariable Long id) {
        try {
            articleService.deleteArticle(id);
            return ResponseEntity.noContent().build();
        } catch (RuntimeException e) {
            return ResponseEntity.notFound().build();
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();
        }
    }
}
```

**REST APIã®ãƒã‚¤ãƒ³ãƒˆ:**
1. **@RestController**: RESTã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¨ã—ã¦èªè­˜
2. **@RequestMapping**: ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹æŒ‡å®š
3. **HTTPãƒ¡ã‚½ãƒƒãƒ‰**: GETã€POSTã€PUTã€DELETE
4. **ResponseEntity**: HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰åˆ¶å¾¡
5. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: é©åˆ‡ãªä¾‹å¤–å‡¦ç†

---

## âœ… **Phase 7: å‹•ä½œç¢ºèªãƒ»ãƒ†ã‚¹ãƒˆ (30åˆ†)**

### **7.1 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•**
```bash
./gradlew bootRun
```

### **7.2 APIå‹•ä½œç¢ºèª**
```bash
# è¨˜äº‹ä¸€è¦§å–å¾—
curl -X GET http://localhost:8080/api/articles

# è¨˜äº‹è©³ç´°å–å¾—
curl -X GET http://localhost:8080/api/articles/1

# è¨˜äº‹ä½œæˆ
curl -X POST http://localhost:8080/api/articles \
  -H "Content-Type: application/json" \
  -d '{"title":"æ–°ã—ã„è¨˜äº‹","content":"ãƒ†ã‚¹ãƒˆå†…å®¹"}'

# è¨˜äº‹æ›´æ–°
curl -X PUT http://localhost:8080/api/articles/1 \
  -H "Content-Type: application/json" \
  -d '{"title":"æ›´æ–°ã•ã‚ŒãŸè¨˜äº‹","content":"æ›´æ–°ã•ã‚ŒãŸå†…å®¹"}'

# è¨˜äº‹å‰Šé™¤
curl -X DELETE http://localhost:8080/api/articles/1
```

### **7.3 Swagger UIç¢ºèª**
```
http://localhost:8080/swagger-ui/index.html
```

### **7.4 H2ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç¢ºèª**
```
http://localhost:8080/h2-console
JDBC URL: jdbc:h2:mem:testdb
Username: sa
Password: (ç©ºæ¬„)
```

---

## ğŸ“‚ **æœ€çµ‚çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **

```
simple-spring-rest-api/
â”œâ”€â”€ build.gradle                               â† ãƒ“ãƒ«ãƒ‰è¨­å®š
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/example/simple_spring_rest_api/
â”‚   â”‚   â”‚   â”œâ”€â”€ SimpleSpringRestApiApplication.java  â† ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Article.java               â† ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ArticleRepository.java     â† ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ArticleService.java        â† ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
â”‚   â”‚   â”‚   â””â”€â”€ controller/
â”‚   â”‚   â”‚       â””â”€â”€ ArticleController.java     â† ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.properties          â† ã‚¢ãƒ—ãƒªè¨­å®š
â”‚   â”‚       â”œâ”€â”€ schema.sql                     â† ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©
â”‚   â”‚       â””â”€â”€ data.sql                       â† åˆæœŸãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/com/example/simple_spring_rest_api/
â”‚           â””â”€â”€ SimpleSpringRestApiApplicationTests.java
â””â”€â”€ README.md
```

---

## ğŸ¯ **é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**

### **é–‹ç™ºé †åºã‚’å®ˆã‚‹ç†ç”±**
1. **åœŸå°ã‹ã‚‰ç©ã¿ä¸Šã’**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ â†’ ãƒ‰ãƒ¡ã‚¤ãƒ³ â†’ ãƒªãƒã‚¸ãƒˆãƒª â†’ ã‚µãƒ¼ãƒ“ã‚¹ â†’ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
2. **ä¾å­˜é–¢ä¿‚**: ä¸Šä½å±¤ã¯ä¸‹ä½å±¤ã«ä¾å­˜ã™ã‚‹
3. **ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã•**: å„å±¤ã‚’å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆå¯èƒ½

### **å„å±¤ã®å½¹å‰²**
- **Domain**: ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å®šç¾©
- **Repository**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹
- **Service**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- **Controller**: HTTPé€šä¿¡åˆ¶å¾¡

### **å­¦ç¿’ã®ã‚³ãƒ„**
1. **ã¾ãšå®Œå…¨æ¨¡å†™**: ç†è§£ã‚ˆã‚Šæ‰‹ã«è¦šãˆã•ã›ã‚‹
2. **æ®µéšçš„ç†è§£**: ä¸€åº¦ã«å…¨éƒ¨ç†è§£ã—ã‚ˆã†ã¨ã—ãªã„
3. **å®Ÿéš›ã«å‹•ã‹ã™**: å¿…ãšå‹•ä½œç¢ºèªã™ã‚‹
4. **ã‚¨ãƒ©ãƒ¼ã‚’æã‚Œãªã„**: ã‚¨ãƒ©ãƒ¼ã‹ã‚‰å­¦ã¶

---

## ğŸš€ **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**

1. **Userç®¡ç†ã‚·ã‚¹ãƒ†ãƒ **ã‚’0ã‹ã‚‰ä½œæˆ
2. **Productç®¡ç†ã‚·ã‚¹ãƒ†ãƒ **ã‚’0ã‹ã‚‰ä½œæˆ
3. **è¤‡æ•°ãƒ†ãƒ¼ãƒ–ãƒ«ã®é–¢é€£**ã‚’å®Ÿè£…
4. **ã‚ˆã‚Šè¤‡é›‘ãªSQL**ã‚’ç¿’å¾—

**é ‘å¼µã£ã¦ï¼ã“ã®æµã‚Œã§ä½œã‚Œã°å¿…ãšå‹•ãã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œæˆã—ã¾ã™ï¼** ğŸ‰ 